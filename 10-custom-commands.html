<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>自定义命令 | Claude Code 实战课程</title>
    <script src="head-meta.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a class="brand" href="index.html">Claude Code 实战课程（中文）</a>
        <span class="subtitle">第 10 节 · 自定义命令</span>
      </div>
    </header>

<div class="layout">
<aside class="sidebar" id="sidebar"></aside>
  <div class="main">

    <nav class="lesson-nav container"></nav>

    <main class="container content">
      <div class="content-card">
        <h1>自定义命令</h1>
        <div class="lesson-meta">
          原文链接：
          <a href="https://anthropic.skilljar.com/claude-code-in-action/303234"
            >https://anthropic.skilljar.com/claude-code-in-action/303234</a
          >
          <span class="tag">视频 + 讲义</span>
        </div>
        <div class="content-body">
          <p>
            Claude Code 内置了一批以斜杠开头的命令，你也可以创建自己的命令，把常见流程自动化。
          </p>

          <h2>创建自定义命令</h2>
          <p>在项目中准备以下目录结构：</p>
          <ol>
            <li>找到项目中的 <code>.claude</code> 目录</li>
            <li>在其中创建 <code>commands</code> 目录</li>
            <li>创建一个以命令名命名的 Markdown 文件（如 <code>audit.md</code>）</li>
          </ol>
          <p>文件名就是命令名，因此 <code>audit.md</code> 会生成 <code>/audit</code> 命令。</p>

          <h2>示例：审计依赖的命令</h2>
          <p>一个实用的命令是检查依赖安全问题：</p>
          <ol>
            <li>运行 <code>npm audit</code> 找出漏洞</li>
            <li>运行 <code>npm audit fix</code> 自动修复</li>
            <li>运行测试验证修复不破坏功能</li>
          </ol>
          <p>创建命令文件后，需要重启 Claude Code 才能识别新命令。</p>

          <h2>带参数的命令</h2>
          <p>自定义命令可以使用 <code>$ARGUMENTS</code> 占位符接收参数，从而更灵活。</p>
          <p>例如 <code>write_tests.md</code>：</p>
          <pre><code>Write comprehensive tests for: $ARGUMENTS

Testing conventions:
* Use Vitests with React Testing Library
* Place test files in a __tests__ directory in the same folder as the source file
* Name test files as [filename].test.ts(x)
* Use @/ prefix for imports

Coverage:
* Test happy paths
* Test edge cases
* Test error states</code></pre>
          <p>调用方式：</p>
          <p><code>/write_tests the use-auth.ts file in the hooks directory</code></p>
          <p>参数可以是任意文字说明，不一定是文件路径。</p>

          <h2>关键收益</h2>
          <ul>
            <li><strong>自动化</strong>：把重复流程变成一个命令</li>
            <li><strong>一致性</strong>：确保每次执行遵循相同步骤</li>
            <li><strong>上下文</strong>：为 Claude 提供固定的项目约定</li>
            <li><strong>灵活性</strong>：通过参数适配不同场景</li>
          </ul>
          <p>
            自定义命令非常适合项目内的固定流程，例如测试、部署、代码生成等。
          </p>
        </div>
      </div>
    </main>

    <footer class="site-footer container">
      下一节：<a href="11-mcp-servers-with-claude-code.html">Claude Code 的 MCP 服务器</a>
    </footer>
    </div>
</div>
<script src="nav-data.js"></script>
<script src="sidebar.js"></script>
<script src="nav.js"></script>
</body>
</html>

